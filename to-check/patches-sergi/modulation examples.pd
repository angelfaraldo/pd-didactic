#N canvas 121 82 1070 718 12;
#X obj 94 236 *~;
#X obj 136 188 line~;
#X obj 19 285 cos~;
#X obj 19 260 +~;
#X obj 136 165 pack 0 50;
#X floatatom 136 117 0 0 0 0 - index -;
#X obj 136 141 / 100;
#X obj 18 129 phasor~;
#X obj 815 537 output~;
#X obj 814 506 hip~;
#N canvas 95 172 558 609 fft 0;
#X obj 19 61 inlet~;
#X obj 208 212 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 83 61 signal to analyze;
#X text 193 164 delay two samples;
#X text 191 182 for better graphing;
#X obj 19 459 samplerate~;
#X obj 19 436 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X floatatom 19 506 5 0 0 0 - - -;
#X obj 19 482 / 256;
#X obj 19 412 loadbang;
#X obj 75 528 s fundamental;
#X text 17 359 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256.;
#X obj 231 259 metro 500;
#X obj 231 236 inlet;
#X text 284 234 toggle to graph repeatedly;
#X text 262 212 bang to graph once;
#X obj 19 295 tabwrite~ E09-signal;
#X obj 231 298 tabwrite~ E09-spectrum;
#X obj 19 528 t b f;
#X msg 19 551 \; cm 6;
#X text 25 585 set carrier multiplier after fundamental;
#X obj 29 205 /~ 4096;
#X msg 209 322 \; pd dsp 1;
#X connect 0 0 2 0;
#X connect 0 0 26 0;
#X connect 1 0 26 0;
#X connect 1 0 27 0;
#X connect 1 0 32 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 31 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 28 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 26 0;
#X connect 22 0 27 0;
#X connect 23 0 22 0;
#X connect 23 0 32 0;
#X connect 28 0 29 0;
#X connect 28 1 20 0;
#X connect 31 0 27 0;
#X restore 855 503 pd fft;
#N canvas 0 0 450 300 (subpatch) 0;
#X array E09-signal 441 float 0;
#X coords 0 1.02 440 -1.02 259 130 1 0 0;
#X restore 379 226 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array E09-spectrum 259 float 0;
#X coords 0 0.51 258 -0.008 259 130 1;
#X restore 638 226 graph;
#X text 668 357 2;
#X text 699 357 4;
#X text 638 357 0;
#X obj 93 129 osc~;
#X obj 52 59 r fundamental;
#X text 171 117 index (x100);
#X text 731 357 6;
#X text 764 357 8;
#X text 792 357 10;
#X text 824 357 12;
#X text 856 357 14;
#X text 43 3 SPECTRUM OF TWO-OPERATOR PHASE MODULATION;
#X floatatom 18 84 3 0 15 0 - - -;
#X obj 18 105 *;
#X obj 18 59 r cm;
#X obj 304 379 r fundamental;
#X obj 211 399 *;
#X obj 254 494 *~;
#X obj 310 65 vradio 40 1 1 3 whatgraph nor empty 0 -8 0 10 -262144
-1 -1 0;
#X text 290 66 FM;
#X text 278 113 RING;
#X text 289 144 AM;
#X obj 38 322 r whatgraph;
#X obj 38 346 == 0;
#X obj 20 369 *~;
#X obj 20 392 throw~ tograph;
#X obj 815 452 catch~ tograph;
#X obj 927 461 loadbang;
#X msg 927 483 1;
#X floatatom 211 375 5 0 0 0 - - -;
#X obj 271 539 r whatgraph;
#X obj 253 587 *~;
#X obj 271 563 == 1;
#X obj 351 65 cnv 15 500 40 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 439 70 nbx 2 30 0 1e+37 0 1 cm nor fc -40 16 0 30 -262144 -1
-1 8 256;
#X obj 744 71 nbx 3 30 0 200 0 0 index nor Index -90 16 0 30 -262144
-1 -1 79 256;
#X obj 351 106 cnv 15 500 39 empty empty empty 20 12 0 14 -191407 -66577
0;
#X obj 211 351 r ringf;
#X obj 351 146 cnv 15 500 39 empty empty empty 20 12 0 14 -162280 -66577
0;
#X obj 439 111 nbx 2 30 0 1e+37 0 1 ringf nor fc -40 16 0 30 -262144
-1 -1 1 256;
#X obj 211 562 *~;
#X obj 718 111 hsl 128 30 0 1 0 0 ringamount nor empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X obj 385 519 - 1;
#X obj 385 542 abs;
#X obj 286 425 *;
#X obj 243 402 r ringm;
#X obj 559 111 nbx 2 30 0 1e+37 0 1 ringm nor fm -40 16 0 30 -262144
-1 -1 3 256;
#X obj 385 496 r ringamount;
#X obj 254 516 *~;
#X obj 212 451 -~ 0;
#X obj 211 424 osc~;
#X obj 286 448 osc~;
#X obj 286 471 -~ 0;
#X obj 253 610 throw~ tograph;
#X floatatom 149 84 3 0 15 0 - - -;
#X obj 94 107 *;
#X obj 149 59 r fm;
#X obj 559 71 nbx 2 30 0 1e+37 0 1 fm nor fm -40 16 0 30 -262144 -1
-1 1 256;
#X text 656 115 original;
#X obj 580 386 r fundamental;
#X obj 487 406 *;
#X obj 530 535 *~;
#X floatatom 487 382 5 0 0 0 - - -;
#X obj 547 580 r whatgraph;
#X obj 529 628 *~;
#X obj 487 603 *~;
#X obj 661 560 - 1;
#X obj 661 583 abs;
#X obj 562 432 *;
#X obj 661 537 r ringamount;
#X obj 530 557 *~;
#X obj 488 458 -~ 0;
#X obj 487 431 osc~;
#X obj 562 455 osc~;
#X obj 529 651 throw~ tograph;
#X obj 547 604 == 2;
#X obj 562 478 +~ 1;
#X obj 563 502 *~ 0.5;
#X obj 439 151 nbx 2 30 0 1e+37 0 1 amf nor fc -40 16 0 30 -262144
-1 -1 4 256;
#X obj 718 151 hsl 128 30 0 1 0 0 ringamount nor empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X obj 559 151 nbx 2 30 0 1e+37 0 1 amm nor fm -40 16 0 30 -262144
-1 -1 3 256;
#X text 656 155 original;
#X obj 487 359 r amf;
#X obj 519 409 r amm;
#X obj 267 232 pi;
#X obj 235 210 t f b;
#X obj 235 252 /;
#X obj 235 274 / 2;
#X msg 235 184 3.5;
#X floatatom 252 309 5 0 0 0 - - -;
#X msg 277 190 4;
#X msg 309 190 5;
#X msg 319 218 6;
#X text 764 370 |;
#X msg 306 254 2.5;
#X connect 0 0 3 1;
#X connect 1 0 0 1;
#X connect 2 0 37 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 3 0;
#X connect 9 0 8 0;
#X connect 9 0 8 1;
#X connect 16 0 0 0;
#X connect 17 0 26 1;
#X connect 17 0 68 1;
#X connect 25 0 26 0;
#X connect 26 0 7 0;
#X connect 27 0 25 0;
#X connect 28 0 29 1;
#X connect 28 0 57 1;
#X connect 29 0 63 0;
#X connect 30 0 61 0;
#X connect 35 0 36 0;
#X connect 36 0 37 1;
#X connect 37 0 38 0;
#X connect 39 0 9 0;
#X connect 39 0 10 0;
#X connect 40 0 41 0;
#X connect 41 0 10 2;
#X connect 42 0 29 0;
#X connect 43 0 45 0;
#X connect 44 0 66 0;
#X connect 45 0 44 1;
#X connect 50 0 42 0;
#X connect 53 0 44 0;
#X connect 55 0 56 0;
#X connect 56 0 53 1;
#X connect 57 0 64 0;
#X connect 58 0 57 0;
#X connect 60 0 55 0;
#X connect 60 0 61 1;
#X connect 61 0 44 0;
#X connect 62 0 30 0;
#X connect 62 0 53 0;
#X connect 63 0 62 0;
#X connect 64 0 65 0;
#X connect 65 0 30 1;
#X connect 67 0 68 0;
#X connect 68 0 16 0;
#X connect 69 0 67 0;
#X connect 72 0 73 1;
#X connect 72 0 81 1;
#X connect 73 0 85 0;
#X connect 74 0 83 0;
#X connect 75 0 73 0;
#X connect 76 0 88 0;
#X connect 77 0 87 0;
#X connect 78 0 77 0;
#X connect 79 0 80 0;
#X connect 80 0 78 1;
#X connect 81 0 86 0;
#X connect 82 0 79 0;
#X connect 82 0 83 1;
#X connect 83 0 77 0;
#X connect 84 0 74 0;
#X connect 84 0 78 0;
#X connect 85 0 84 0;
#X connect 86 0 89 0;
#X connect 88 0 77 1;
#X connect 89 0 90 0;
#X connect 90 0 74 1;
#X connect 95 0 75 0;
#X connect 96 0 81 0;
#X connect 97 0 99 1;
#X connect 98 0 99 0;
#X connect 98 1 97 0;
#X connect 99 0 100 0;
#X connect 100 0 4 0;
#X connect 100 0 102 0;
#X connect 101 0 98 0;
#X connect 103 0 98 0;
#X connect 104 0 98 0;
#X connect 105 0 98 0;
#X connect 107 0 98 0;
