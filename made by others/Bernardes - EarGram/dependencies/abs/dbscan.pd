#N canvas 427 129 626 611 10;
#X obj -351 -502 inlet;
#N canvas 509 24 615 271 runIterativeAlgorithm 1;
#X obj 6 -53 inlet;
#X obj 33 38 s \$0-reset;
#X msg 377 41 resize \$1;
#X obj 377 15 r \$0-nrCases;
#X msg 474 49 const 0;
#X obj 474 24 r \$0-reset;
#N canvas 474 176 748 419 ptsWithindEps 0;
#X obj 98 222 outlet;
#N canvas 0 22 536 388 distBetweenPts 0;
#X obj 49 110 until;
#X obj 49 150 f;
#X obj 81 150 + 1;
#X obj 118 133 0;
#X obj 49 86 f;
#X obj 49 212 2d.tabread \$0-data 2;
#X obj 267 225 2d.tabread \$0-data 2;
#X obj 49 242 list-euclid;
#X obj 49 271 list prepend;
#X obj 139 288 t l;
#X obj 34 306 list;
#X obj 34 25 t b b b f b;
#X obj 384 195 r \$0-dimesnions;
#X obj 64 63 r \$0-nrCases;
#X obj 34 334 outlet;
#X obj 34 -2 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 0 10 1;
#X connect 9 0 8 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 4 0;
#X connect 11 2 3 0;
#X connect 11 3 6 0;
#X connect 11 4 8 1;
#X connect 12 0 6 1;
#X connect 12 0 5 1;
#X connect 13 0 4 1;
#X connect 15 0 11 0;
#X restore 98 33 pd distBetweenPts;
#X text 369 -56 (trim list to distances within the eps-neighbourhood)
;
#X obj 98 142 list;
#X obj 98 168 list split;
#X obj 256 224 outlet;
#X text 143 222 (pts within eps);
#X text 300 224 (nr of pts within eps);
#N canvas 484 160 559 529 nextUnverifiedPoint 0;
#X obj 47 119 f;
#X obj 76 119 + 1;
#X obj 116 102 0;
#X obj 47 175 tabread \$0-verified;
#X obj 47 147 t f f;
#X obj 47 91 until;
#X obj 28 279 f;
#X obj 28 4 inlet;
#X obj 28 29 f;
#X obj 82 12 r \$0-nrCases;
#X obj 118 262 - 1;
#X obj 28 302 sel -1;
#X obj 28 472 outlet;
#X text 25 502 (end);
#X text 80 500 (next point);
#X obj 47 207 sel 0;
#X obj 263 5 inlet;
#X obj 264 269 tabread \$0-verified;
#X obj 447 469 outlet;
#X obj 264 232 t f f;
#X obj 264 366 f;
#X obj 81 472 outlet;
#X obj 80 435 tabwrite \$0-verified;
#X obj 61 383 t f b f;
#X obj 80 410 1;
#X text 447 495 (new iteration);
#X obj 303 77 list-drip;
#X obj 28 54 t b f b;
#X obj 47 239 f;
#X obj 331 150 r \$0-reset;
#X obj 264 126 until;
#X obj 264 308 sel 0;
#X obj 264 193 bagFifo;
#X msg 331 176 clear;
#X obj 264 336 t b b;
#X obj 303 216 t b b;
#X obj 263 37 t b a;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 3 0 15 0;
#X connect 4 0 3 0;
#X connect 4 1 28 1;
#X connect 5 0 0 0;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 8 0 27 0;
#X connect 9 0 8 1;
#X connect 10 0 6 1;
#X connect 11 0 12 0;
#X connect 11 1 23 0;
#X connect 15 0 5 1;
#X connect 15 0 28 0;
#X connect 16 0 36 0;
#X connect 17 0 31 0;
#X connect 19 0 17 0;
#X connect 19 1 20 1;
#X connect 20 0 23 0;
#X connect 23 0 21 0;
#X connect 23 1 24 0;
#X connect 23 2 22 1;
#X connect 24 0 22 0;
#X connect 26 0 32 1;
#X connect 27 0 6 0;
#X connect 27 1 5 0;
#X connect 27 2 2 0;
#X connect 27 2 10 0;
#X connect 28 0 6 1;
#X connect 29 0 33 0;
#X connect 30 0 32 0;
#X connect 31 0 34 0;
#X connect 32 0 19 0;
#X connect 32 1 35 0;
#X connect 33 0 32 0;
#X connect 34 0 20 0;
#X connect 34 1 30 1;
#X connect 35 0 18 0;
#X connect 35 1 30 1;
#X connect 36 0 30 0;
#X connect 36 1 26 0;
#X restore 34 5 pd nextUnverifiedPoint;
#X obj 34 222 outlet;
#X obj 98 95 t b f;
#N canvas 0 22 303 355 elementsWithinEps 0;
#X obj 17 128 list-dripslow;
#X obj 17 100 until;
#X obj 83 158 r \$0-eps;
#X obj 17 206 sel 1 0;
#X obj 45 236 + 1;
#X obj 0 273 f;
#X obj 83 219 1;
#X obj 17 236 f 1;
#X obj 141 256 0;
#X obj 0 301 outlet;
#X obj 191 300 outlet;
#X obj 0 -22 inlet;
#X obj 0 52 t b b b l;
#X obj 92 69 sort 1;
#X obj 17 175 <= 0.2;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 2 0 14 1;
#X connect 3 0 7 0;
#X connect 3 1 1 1;
#X connect 4 0 7 1;
#X connect 5 0 9 0;
#X connect 6 0 7 1;
#X connect 7 0 4 0;
#X connect 7 0 5 1;
#X connect 8 0 5 1;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 12 1 1 0;
#X connect 12 2 6 0;
#X connect 12 2 8 0;
#X connect 12 3 13 0;
#X connect 13 0 0 1;
#X connect 13 1 10 0;
#X connect 14 0 3 0;
#X restore 98 60 pd elementsWithinEps;
#X obj 34 -70 t b b;
#X obj 61 -44 s \$0-newUnverPoint;
#X obj 34 -101 inlet;
#X obj 204 -97 r \$0-newIterPts;
#X obj 204 -73 t b a;
#X obj 204 -12 list;
#X obj 98 -87 r \$0-newIter;
#X obj 204 -45 delay 10;
#X connect 1 0 11 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 8 0 9 0;
#X connect 8 1 1 0;
#X connect 8 2 12 0;
#X connect 10 0 3 0;
#X connect 10 1 4 1;
#X connect 10 1 5 0;
#X connect 11 0 10 0;
#X connect 11 1 3 1;
#X connect 12 0 8 0;
#X connect 12 1 13 0;
#X connect 14 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 19 0;
#X connect 16 1 17 1;
#X connect 17 0 8 1;
#X connect 18 0 12 0;
#X connect 19 0 17 0;
#X restore 6 93 pd ptsWithindEps;
#N canvas 323 207 650 375 assignToCluster 0;
#X obj -63 -47 inlet;
#X obj 367 145 + 1;
#X obj 349 92 r \$0-reset;
#X obj 334 146 f 1;
#X obj 349 117 1;
#X obj 111 -47 inlet;
#N canvas 0 22 335 310 selectProcess 0;
#X obj 144 69 r \$0-minPts;
#X obj 66 120 b;
#X obj 66 143 1;
#X obj 105 120 b;
#X obj 105 143 1;
#X obj 144 120 b;
#X obj 144 143 1;
#X obj 66 28 t f b;
#X obj 66 200 outlet;
#X obj 105 232 outlet;
#X obj 144 257 outlet;
#X obj 211 183 0;
#X obj 66 4 inlet;
#X obj 66 69 moses 1;
#X obj 105 93 moses 4;
#X connect 0 0 14 1;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 7 0 13 0;
#X connect 7 1 11 0;
#X connect 11 0 10 0;
#X connect 11 0 9 0;
#X connect 11 0 8 0;
#X connect 12 0 7 0;
#X connect 13 0 1 0;
#X connect 13 1 14 0;
#X connect 14 0 3 0;
#X connect 14 1 5 0;
#X restore 111 -3 pd selectProcess;
#N canvas 0 22 450 300 noisePoint 0;
#X obj 81 26 inlet;
#X obj 81 63 sel 1;
#X obj 81 95 s \$0-newIter;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore -63 119 pd noisePoint;
#N canvas 0 22 450 300 borderPoint 0;
#X obj 81 72 spigot;
#X obj 81 26 inlet;
#X obj 134 26 inlet;
#X obj 81 119 s \$0-newIterPts;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X restore 27 120 pd borderPoint;
#N canvas 0 22 531 341 centerPoint 0;
#X obj 81 114 spigot;
#X obj 81 193 t b f;
#X obj 81 25 inlet;
#X obj 134 25 inlet;
#X obj 96 223 r \$0-currentCluster;
#X obj 81 245 f;
#X obj 81 166 list-drip;
#X obj 81 140 t l l;
#X obj 275 269 s \$0-newIterPts;
#X obj 81 272 tabwrite \$0-clusterNr;
#X connect 0 0 7 0;
#X connect 1 0 5 0;
#X connect 1 1 9 1;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 5 1;
#X connect 5 0 9 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 8 0;
#X restore 123 120 pd centerPoint;
#X text 150 -48 (nr of points within eps);
#X text -21 -51 (within eps);
#X obj 334 172 s \$0-currentCluster;
#X text 420 114 (current cluster nr);
#X obj 334 64 once;
#X obj 355 39 r \$0-newUnverPoint;
#X obj 334 14 sel 1;
#X connect 0 0 8 0;
#X connect 0 0 9 0;
#X connect 1 0 3 1;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 3 0 12 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 8 1;
#X connect 6 2 9 1;
#X connect 6 2 16 0;
#X connect 14 0 3 0;
#X connect 15 0 14 1;
#X connect 16 0 14 0;
#X restore 52 138 pd assignToCluster;
#X obj 376 -43 table \$0-verified;
#X obj 474 83 s \$0-verified;
#X obj 6 12 t b b;
#X obj 376 -20 table \$0-clusterNr;
#X obj 377 66 s \$0-clusterNr;
#X obj 6 180 s \$0-dump;
#X connect 0 0 10 0;
#X connect 2 0 9 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 4 0 9 0;
#X connect 4 0 12 0;
#X connect 5 0 4 0;
#X connect 6 0 13 0;
#X connect 6 1 7 0;
#X connect 6 2 7 1;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X restore -351 -247 pd runIterativeAlgorithm;
#X obj -272 -332 b;
#N canvas 234 389 456 299 storeData 0;
#X obj 99 106 f;
#X obj 128 106 + 1;
#X obj 114 81 0;
#X obj 48 58 inlet;
#X obj 48 262 table \$0-data;
#X obj 48 89 t a b;
#X obj 114 57 r \$0-clear;
#X text 264 120 (number of vectors in total);
#X obj 186 123 s \$0-nrCases;
#X obj 201 215 r \$0-dimesnions;
#X obj 288 98 s \$0-data;
#X msg 288 74 const 0;
#X obj 99 131 t f f;
#X obj 48 240 2d.tabwrite \$0-data 1000 2;
#X obj 108 159 moses 1000;
#X connect 0 0 1 0;
#X connect 0 0 8 0;
#X connect 0 0 12 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 5 0 13 0;
#X connect 5 1 0 0;
#X connect 6 0 2 0;
#X connect 6 0 11 0;
#X connect 9 0 13 3;
#X connect 11 0 10 0;
#X connect 12 0 13 1;
#X connect 12 1 14 0;
#X connect 14 1 13 2;
#X restore -312 -279 pd storeData;
#X obj -272 -309 s \$0-clear;
#X text -19 -483 arguments:;
#X text -19 -461 dimentionality of each vector (default: 2);
#X text -19 -439 eps (default: 0.2);
#X text -19 -417 min number of points per cluster (default: 4);
#N canvas 0 22 450 300 dimensions 0;
#X obj -28 -17 loadbang;
#X obj -28 5 \$1;
#X obj -28 28 moses 1;
#X obj -70 -17 inlet;
#X obj -70 94 s \$0-dimensions;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 1 4 0;
#X connect 3 0 4 0;
#X restore -232 -359 pd dimensions;
#N canvas 0 22 450 300 minPts 0;
#X obj -18 -7 loadbang;
#X obj -18 38 moses 1;
#X obj -60 -7 inlet;
#X obj -60 104 s \$0-minPts;
#X obj -18 15 \$3;
#X connect 0 0 4 0;
#X connect 1 1 3 0;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X restore -152 -419 pd minPts;
#N canvas 0 22 450 300 eps 0;
#X obj -8 3 loadbang;
#X obj -8 48 moses 1;
#X obj -50 3 inlet;
#X obj -8 25 \$2;
#X obj -50 114 s \$0-eps;
#X connect 0 0 3 0;
#X connect 1 1 4 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X restore -192 -392 pd eps;
#X text 31 -244 implement retrieval by cluster number;
#X obj -351 -475 route bang add clear dimensions eps minPts dump;
#X obj -112 -447 s \$0-dump;
#X obj -7 61 outlet;
#X obj -333 59 outlet;
#X obj -201 58 outlet;
#X obj -201 20 2d.tabread \$0-data 2;
#X text -336 81 (cluster nr);
#X obj -84 -6 r \$0-dimensions;
#X text -204 77 (vectors);
#X obj 180 59 outlet;
#X text 181 82 (end);
#X obj -333 -13 tabread \$0-clusterNr;
#X obj -333 -72 f;
#X obj -305 -72 + 1;
#X obj -333 -46 t f f f;
#X text -10 82 (featureNr);
#X obj -333 -120 f;
#X obj -352 -196 t b b b;
#X obj -318 -144 r \$0-nrCases;
#X obj -266 -89 0;
#X obj -352 -218 r \$0-dump;
#X obj -333 -96 until;
#X connect 0 0 13 0;
#X connect 2 0 4 0;
#X connect 13 0 1 0;
#X connect 13 1 3 0;
#X connect 13 2 2 0;
#X connect 13 3 9 0;
#X connect 13 4 11 0;
#X connect 13 5 10 0;
#X connect 13 6 14 0;
#X connect 18 0 17 0;
#X connect 20 0 18 1;
#X connect 24 0 16 0;
#X connect 25 0 27 0;
#X connect 25 0 26 0;
#X connect 26 0 25 1;
#X connect 27 0 24 0;
#X connect 27 1 18 0;
#X connect 27 2 15 0;
#X connect 29 0 34 0;
#X connect 30 0 22 0;
#X connect 30 1 29 0;
#X connect 30 2 32 0;
#X connect 31 0 29 1;
#X connect 32 0 25 1;
#X connect 33 0 30 0;
#X connect 34 0 25 0;
