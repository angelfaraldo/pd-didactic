#N canvas 0 22 1034 472 10;
#X obj 31 22 inlet;
#X obj 270 22 inlet;
#X obj 270 76 purepd/float_argument \$1 0.15;
#X obj 281 49 loadbang;
#X obj 69 431 outlet;
#X obj 31 67 trigger float bang;
#X obj 136 163 float;
#X text 172 163 St1;
#X obj 270 112 clip 0 1;
#X obj 185 431 outlet;
#X obj 460 22 inlet;
#X obj 471 49 loadbang;
#X obj 460 112 clip 0 1;
#X text 438 275 bt = y * (St - St1) + (1 - y) * bt1;
#X text 519 112 y;
#X text 329 112 a;
#X obj 186 275 expr $f4 * ($f1 - $f2) + (1 - $f4) * $f3;
#X obj 304 164 float;
#X text 342 163 bt1;
#X obj 460 76 purepd/float_argument \$2 0.3;
#X obj 69 217 expr $f4*$f1+(1-$f4) * ($f2 + $f3);
#X obj 312 401 pddp/pddplink http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm
;
#X obj 255 431 outlet;
#X obj 640 22 inlet;
#X obj 651 49 loadbang;
#X obj 640 112 clip 0 1;
#X text 699 112 B;
#X text 284 218 St = a*(Yt / It1+(1-a)*St1;
#X text 534 233 we are only using 2L as the "season";
#X obj 255 359 expr $f4 * ($f2/$f1) + (1 - $f4) * $f3;
#X text 492 361 It = B * (Yt/St) + (1 - B) * It1;
#X text 477 321 It;
#X obj 640 76 purepd/float_argument \$3 0.6;
#X obj 820 22 inlet;
#X obj 831 49 loadbang;
#X obj 820 112 int;
#X obj 820 137 min 1;
#X text 867 109 how many periods;
#X obj 820 76 purepd/float_argument \$4 1;
#N canvas 198 494 450 300 keep 0;
#X obj 313 36 inlet;
#X obj 214 255 outlet;
#X obj 71 34 inlet;
#X obj 71 92 list append;
#X obj 186 165 list split;
#X connect 0 0 4 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 3 1;
#X connect 4 1 1 0;
#X connect 4 2 3 1;
#X restore 344 319 pd keep old It values;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 2 0;
#X connect 5 0 20 0;
#X connect 5 1 6 0;
#X connect 5 1 17 0;
#X connect 6 0 16 1;
#X connect 6 0 20 1;
#X connect 8 0 20 3;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 16 3;
#X connect 16 0 17 1;
#X connect 16 0 9 0;
#X connect 16 0 29 1;
#X connect 17 0 16 2;
#X connect 17 0 20 2;
#X connect 19 0 12 0;
#X connect 20 0 4 0;
#X connect 20 0 6 1;
#X connect 20 0 16 0;
#X connect 20 0 29 0;
#X connect 23 0 32 0;
#X connect 24 0 32 0;
#X connect 25 0 29 3;
#X connect 29 0 22 0;
#X connect 29 0 39 0;
#X connect 32 0 25 0;
#X connect 33 0 38 0;
#X connect 34 0 38 0;
#X connect 35 0 36 0;
#X connect 36 0 39 1;
#X connect 38 0 35 0;
#X connect 39 0 29 2;
