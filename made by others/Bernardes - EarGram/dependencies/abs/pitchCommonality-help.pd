#N canvas 470 22 708 522 10;
#X obj -18 7 cnv 15 700 60 empty empty pitchCommonality 20 12 0 14
-233017 -66577 0;
#X obj 154 365 pitchCommonality;
#X text 468 47 based on code by Alexandre Porres;
#X text 525 28 2013 Gilberto Bernardes;
#X text 348 68 (needs the object tabletool from Brent's tID library)
;
#X floatatom 327 382 10 0 0 0 - - -;
#N canvas 22 368 494 344 META 0;
#X text 12 45 LICENSE GPL v3;
#X text 12 219 RELEASE_DATE 2013;
#X text 12 199 WEBSITE https://sites.google.com/site/eargram/;
#X text 12 179 AUTHOR Gilberto Bernardes;
#X text 12 159 LIBRARY earGram_abs;
#X text 12 65 DESCRIPTION commonality between two sonorities;
#X text 12 92 INLET_0 list (pitch salience of sonority_1);
#X text 12 115 INLET_1 list (pitch salience of sonority_2);
#X text 13 135 OUTLET_O float (pitch commonality);
#X restore 632 494 pd META;
#X text -2 33 commonality between two sonorities;
#N canvas 246 22 524 530 (subpatch) 0;
#X obj 56 259 noise~;
#X obj 157 330 *~;
#X obj 250 313 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 163 68 5 1 100 0 q - -;
#X obj 56 330 *~;
#X obj 92 330 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 56 301 bp~ 1000 1;
#X obj 5 25 vradio 35 1 0 4 \$0-input \$0-input.r input~ 0 -8 0 10
-262144 -1 -1 0;
#X text 44 71 noise;
#X obj 49 467 outlet~;
#X text 44 36 mute;
#X obj 5 296 == 1;
#X floatatom 117 69 5 0 0 0 freq - -;
#X text 44 106 chord;
#X obj 256 19 loadbang;
#X obj 196 373 *~;
#X obj 289 356 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 226 421 *~;
#X obj 319 404 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 118 104 bng 15 250 50 0 empty empty M -10 8 0 10 -262144 -1
-1;
#X obj 163 104 bng 15 250 50 0 empty empty m -10 8 0 10 -262144 -1
-1;
#X msg 256 42 1000;
#X msg 301 42 2;
#X obj 128 391 *~ 0.2;
#X obj 116 468 dac~;
#X obj 157 301 osc~ 261.626;
#X obj 196 344 osc~ 329.628;
#X obj 226 392 osc~ 391.995;
#X text 44 139 3 random notes;
#X msg 319 224 261.626 329.628 391.995;
#X obj 309 276 unpack f f f;
#X obj 294 172 list-random 500 3;
#X obj 291 197 list-math + 80;
#X obj 250 289 >= 2;
#X obj 289 332 >= 2;
#X obj 319 380 >= 2;
#X obj 295 148 sel 3;
#X obj 424 196 sel 2;
#X msg 328 250 261.626 311.127 391.995;
#X connect 0 0 6 0;
#X connect 1 0 23 0;
#X connect 2 0 1 1;
#X connect 3 0 6 2;
#X connect 4 0 9 0;
#X connect 4 0 24 0;
#X connect 4 0 24 1;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 7 0 11 0;
#X connect 7 0 33 0;
#X connect 7 0 34 0;
#X connect 7 0 35 0;
#X connect 7 0 36 0;
#X connect 7 0 37 0;
#X connect 11 0 5 0;
#X connect 12 0 6 1;
#X connect 14 0 21 0;
#X connect 14 0 22 0;
#X connect 15 0 23 0;
#X connect 16 0 15 1;
#X connect 17 0 23 0;
#X connect 18 0 17 1;
#X connect 19 0 29 0;
#X connect 20 0 38 0;
#X connect 21 0 12 0;
#X connect 22 0 3 0;
#X connect 23 0 9 0;
#X connect 23 0 24 1;
#X connect 23 0 24 0;
#X connect 25 0 1 0;
#X connect 26 0 15 0;
#X connect 27 0 17 0;
#X connect 29 0 30 0;
#X connect 30 0 25 0;
#X connect 30 1 26 0;
#X connect 30 2 27 0;
#X connect 31 0 32 0;
#X connect 32 0 30 0;
#X connect 33 0 2 0;
#X connect 34 0 16 0;
#X connect 35 0 18 0;
#X connect 36 0 31 0;
#X connect 37 0 29 0;
#X connect 38 0 30 0;
#X coords 0 1 100 -1 200 180 1 0 0;
#X restore 154 120 graph;
#N canvas 246 22 524 530 (subpatch) 0;
#X obj 56 259 noise~;
#X obj 157 330 *~;
#X obj 250 313 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 163 68 5 1 100 0 q - -;
#X obj 56 330 *~;
#X obj 92 330 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 56 301 bp~ 1000 1;
#X obj 5 25 vradio 35 1 0 4 \$0-input \$0-input.r input~ 0 -8 0 10
-262144 -1 -1 0;
#X text 44 71 noise;
#X obj 49 467 outlet~;
#X text 44 36 mute;
#X obj 5 296 == 1;
#X floatatom 117 69 5 0 0 0 freq - -;
#X text 44 106 chord;
#X obj 256 19 loadbang;
#X obj 196 373 *~;
#X obj 289 356 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 226 421 *~;
#X obj 319 404 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 118 104 bng 15 250 50 0 empty empty M -10 8 0 10 -262144 -1
-1;
#X obj 163 104 bng 15 250 50 0 empty empty m -10 8 0 10 -262144 -1
-1;
#X msg 256 42 1000;
#X msg 301 42 2;
#X obj 128 391 *~ 0.2;
#X obj 116 468 dac~;
#X obj 157 301 osc~ 261.626;
#X obj 196 344 osc~ 329.628;
#X obj 226 392 osc~ 391.995;
#X text 44 139 3 random notes;
#X msg 319 224 261.626 329.628 391.995;
#X obj 309 276 unpack f f f;
#X obj 294 172 list-random 500 3;
#X obj 291 197 list-math + 80;
#X obj 250 289 >= 2;
#X obj 289 332 >= 2;
#X obj 319 380 >= 2;
#X obj 295 148 sel 3;
#X obj 424 196 sel 2;
#X msg 328 250 261.626 311.127 391.995;
#X connect 0 0 6 0;
#X connect 1 0 23 0;
#X connect 2 0 1 1;
#X connect 3 0 6 2;
#X connect 4 0 9 0;
#X connect 4 0 24 0;
#X connect 4 0 24 1;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 7 0 11 0;
#X connect 7 0 33 0;
#X connect 7 0 34 0;
#X connect 7 0 35 0;
#X connect 7 0 36 0;
#X connect 7 0 37 0;
#X connect 11 0 5 0;
#X connect 12 0 6 1;
#X connect 14 0 21 0;
#X connect 14 0 22 0;
#X connect 15 0 23 0;
#X connect 16 0 15 1;
#X connect 17 0 23 0;
#X connect 18 0 17 1;
#X connect 19 0 29 0;
#X connect 20 0 38 0;
#X connect 21 0 12 0;
#X connect 22 0 3 0;
#X connect 23 0 9 0;
#X connect 23 0 24 1;
#X connect 23 0 24 0;
#X connect 25 0 1 0;
#X connect 26 0 15 0;
#X connect 27 0 17 0;
#X connect 29 0 30 0;
#X connect 30 0 25 0;
#X connect 30 1 26 0;
#X connect 30 2 27 0;
#X connect 31 0 32 0;
#X connect 32 0 30 0;
#X connect 33 0 2 0;
#X connect 34 0 16 0;
#X connect 35 0 18 0;
#X connect 36 0 31 0;
#X connect 37 0 29 0;
#X connect 38 0 30 0;
#X coords 0 1 100 -1 200 180 1 0 0;
#X restore 366 120 graph;
#N canvas 316 22 495 361 peaks 0;
#X obj 49 75 list split 1;
#X obj 83 103 list split 2;
#X obj 49 264 list;
#X obj 100 218 list prepend;
#X obj 193 235 t l;
#X obj 83 131 unpack;
#X obj 238 215 list prepend;
#X obj 326 232 t l;
#X obj 107 265 list;
#X obj 49 237 t b b;
#X obj 49 313 outlet;
#X obj 107 315 outlet;
#X obj 14 174 b;
#X obj 12 7 sigmund~ -npts 8192 -hop 4096 -maxfreq 5000 -npeak 20 env
peaks;
#X obj 12 -16 inlet~;
#X connect 0 1 1 0;
#X connect 1 0 5 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 8 0 11 0;
#X connect 9 0 2 0;
#X connect 9 1 8 0;
#X connect 12 0 9 0;
#X connect 12 0 3 1;
#X connect 12 0 6 1;
#X connect 13 0 12 0;
#X connect 13 1 0 0;
#X connect 14 0 13 0;
#X restore 154 314 pd peaks;
#N canvas 316 22 495 361 peaks 0;
#X obj 49 75 list split 1;
#X obj 83 103 list split 2;
#X obj 49 264 list;
#X obj 100 218 list prepend;
#X obj 193 235 t l;
#X obj 83 131 unpack;
#X obj 238 215 list prepend;
#X obj 326 232 t l;
#X obj 107 265 list;
#X obj 49 237 t b b;
#X obj 49 313 outlet;
#X obj 107 315 outlet;
#X obj 14 174 b;
#X obj 12 7 sigmund~ -npts 8192 -hop 4096 -maxfreq 5000 -npeak 20 env
peaks;
#X obj 12 -16 inlet~;
#X connect 0 1 1 0;
#X connect 1 0 5 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 1;
#X connect 7 0 6 1;
#X connect 8 0 11 0;
#X connect 9 0 2 0;
#X connect 9 1 8 0;
#X connect 12 0 9 0;
#X connect 12 0 3 1;
#X connect 12 0 6 1;
#X connect 13 0 12 0;
#X connect 13 1 0 0;
#X connect 14 0 13 0;
#X restore 366 318 pd peaks;
#X obj 157 428 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text -3 50 (affinity of tones);
#X text 294 426 equal spectra;
#X text 20 421 perfect complementary;
#X text 85 435 sonorities;
#X text 217 441 |;
#X text 217 455 0;
#X text 282 441 |;
#X text 282 455 1;
#X text 151 441 |;
#X text 146 456 -1;
#X obj 154 339 pitchSalience;
#X obj 366 348 pitchSalience;
#X connect 1 0 12 0;
#X connect 1 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 23 0;
#X connect 10 1 23 1;
#X connect 11 0 24 0;
#X connect 11 1 24 1;
#X connect 23 0 1 0;
#X connect 24 0 1 1;
